(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subPackages/adopt/form"],{2528:function(e,o,n){},7313:function(e,o,n){"use strict";n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return r})),n.d(o,"a",(function(){return t}));var t={uniForms:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-forms/uni-forms")]).then(n.bind(null,"356a"))},uniFormsItem:function(){return n.e("components/uni-forms-item/uni-forms-item").then(n.bind(null,"d228"))}},a=function(){var e=this,o=e.$createElement;e._self._c},r=[]},"950d":function(e,o,n){"use strict";n.r(o);var t=n("7313"),a=n("ca62");for(var r in a)"default"!==r&&function(e){n.d(o,e,(function(){return a[e]}))}(r);n("d960");var s,u=n("f0c5"),l=Object(u["a"])(a["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],s);o["default"]=l.exports},c390:function(e,o,n){"use strict";(function(e){n("a09d");t(n("66fd"));var o=t(n("950d"));function t(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("543d")["createPage"])},ca62:function(e,o,n){"use strict";n.r(o);var t=n("cd96"),a=n.n(t);for(var r in t)"default"!==r&&function(e){n.d(o,e,(function(){return t[e]}))}(r);o["default"]=a.a},cd96:function(e,o,n){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t=a(n("ac30"));function a(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{sexList:[{name:"未知",value:0},{name:"女神",value:1},{name:"男神",value:2}],ageList:[{name:"40后",value:4},{name:"50后",value:5},{name:"60后",value:6},{name:"70后",value:7},{name:"80后",value:8},{name:"90后",value:9},{name:"00后",value:0}],experienceList:[{name:"无",value:0},{name:"有",value:1}],marryList:[{name:"单身",value:0},{name:"恋爱中",value:1},{name:"已婚",value:2}],houseList:[{name:"合租",value:0},{name:"整租",value:1},{name:"自有住房",value:2}],hasApplyAdopted:0,form:{animalId:"",baseId:"",sex:1,ageRange:4,experience:1,married:0,housing:2,job:"",addr:"",phone:"",remark:"",protocal:!1,id:null,userId:0},rules:{sex:{rules:[{format:"number"}]},ageRange:{rules:[{format:"number"}]},experience:{rules:[{format:"number"}]},married:{rules:[{format:"number"}]},housing:{rules:[{format:"number"}]},addr:{rules:[{required:!0,errorMessage:"请输入你的地址"},{maxLength:100,errorMessage:"地址长度需要小于{maxLength}个字符"}]},phone:{rules:[{required:!0,errorMessage:"请输入你的联系方式"},{validateFunction:function(e,o,n,t){return console.log(o),/^1\d{10}$/.test(o)||t("请填写正确电话号码"),!0}}]}}}},onReady:function(){this.$refs.form.setRules(this.rules);try{hasApplyAdopted,this.form.animalId,this.form.userId;var o=e.getStorageSync("keyId");o&&(console.log("getStorageSync sucess value:",o),this.hasApplyAdopted=o)}catch(n){console.log("getStorageSync fail!")}1===this.hasApplyAdopted&&(this.form.id=0)},methods:{choose:function(e,o){this.form[o]=e.value,console.log(this.form)},toCheckProtocal:function(){this.form.protocal=!this.form.protocal,console.log("change"),console.log(this.form.protocal,this.type)},toProtocal:function(){console.log("enter toProtocal 展示协议"),e.navigateTo({url:"/subPackages/adopt/commit",success:function(e){console.log("enter toProtocal success res",e)},fail:function(e){console.log("enter toProtocal fail res:",e)},complete:function(e){console.log("enter toProtocal complete res:",e)}})},formReset:function(e){console.log("清空数据")},change:function(e,o){console.log("change改变数据！"),this.formData.checked=o,this.$refs.form.setValue(e,o)},submitForm:function(o){var n=this;this.$refs[o].validate().then((function(o){console.log("表单的值：",o),t.default.applyAdopt(n.form).then((function(o){if(o.success){try{hasApplyAdopted,n.form.animalId,n.form.userId;e.setStorageSync("keyId",1)}catch(t){console.log("hasApplyAdopted set wrong!")}e.showToast({title:"申请已提交"}),setTimeout((function(){e.navigateBack({delta:1})}),2e3)}}))})).catch((function(e){console.error("验证失败：",e)}))}},onLoad:function(e){console.log(e,"adopt-options"),e.animalId&&(this.form.animalId=e.animalId),e.baseId&&(this.form.baseId=e.baseId),e.userId&&(this.form.userId=e.userId)}};o.default=r}).call(this,n("543d")["default"])},d960:function(e,o,n){"use strict";var t=n("2528"),a=n.n(t);a.a}},[["c390","common/runtime","common/vendor"]]]);