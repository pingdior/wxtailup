{"version":3,"sources":["uni-app:///main.js","webpack:////Users/chenping/7 kalastar/tailup/uniapp/subPackages/animal/animalEdit/editFormItem.vue?9076","webpack:////Users/chenping/7 kalastar/tailup/uniapp/subPackages/animal/animalEdit/editFormItem.vue?3f61","webpack:////Users/chenping/7 kalastar/tailup/uniapp/subPackages/animal/animalEdit/editFormItem.vue?6a88","webpack:////Users/chenping/7 kalastar/tailup/uniapp/subPackages/animal/animalEdit/editFormItem.vue?8ffa","uni-app:///subPackages/animal/animalEdit/editFormItem.vue","webpack:////Users/chenping/7 kalastar/tailup/uniapp/subPackages/animal/animalEdit/editFormItem.vue?af95","webpack:////Users/chenping/7 kalastar/tailup/uniapp/subPackages/animal/animalEdit/editFormItem.vue?bef1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6H,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACa;;;AAGxE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AAAy1B,CAAgB,0yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8D72B,+C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHA,mEACA,wE,eAKA,EACA,IADA,kBACA,CACA,SACA,SADA,EAEA,eAFA,EAGA,YAHA,EAIA,YAJA,EAMA,QANA,EAOA,aAPA,EAQA,aARA,EAUA,eAVA,EAWA,cAXA,EAYA,8BAZA,EAaA,mBAbA,EAcA,SAdA,GAgBA,CAlBA,EAmBA,0CACA,sBACA,mEADA,EACA;AACA,gFAFA,EAEA;AACA,6EAHA,EAGA;AACA,0EAJA,EAIA;AACA,uEALA,EAKA;AAEA,uEAPA,EAOA;AACA,oEARA,EAQA;AACA,gFATA,EASA;AACA,uEAVA,CAUA;AAVA,IADA,SAaA,WAbA,yBAaA,CACA,wCACA,sBACA,CACA,yCACA,uBACA,CACA,kCACA,sBACA,CACA,2CACA,yBACA,CACA,mCACA,wBACA,CACA,CA7BA,EA8BA,QA9BA,sBA8BA,CACA,4CACA,yBACA,CACA,2CACA,sBACA,CACA,wCACA,qBACA,CACA,2CACA,sBACA,CACA,CA3CA,EA4CA;AACA,gBA7CA,0BA6CA,CACA;AACA;AACA,KAhDA,GAnBA;;AAqEA;AACA;AACA,kBAFA,0BAEA,CAFA,EAEA;AACA;AACA,KAJA;AAKA;AACA,mBANA,6BAMA;AACA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAFA;AAGA,mCAHA;AAIA;AACA,2DADA,EAJA;;AAOA,yBAPA;AAQA;AACA,uCADA,EARA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;;AAGA,iBARA,MAQA;AACA;AACA;AACA,qCADA;AAEA,iCAFA;AAGA,kCAHA;;AAKA;AACA,eAlBA,MAkBA;AACA;AACA,iCADA;AAEA,+BAFA;AAGA,gCAHA;;AAKA;AACA,aAxCA;;AA0CA,SAjDA;AAkDA;AACA;AACA,SApDA;;AAsDA,KA9DA,EA8DA;AACA,eA/DA,uBA+DA,CA/DA,EA+DA;AACA;AACA,KAjEA;AAkEA;AACA,oBAnEA,4BAmEA,CAnEA,EAmEA;AACA;AACA;AACA;AACA;AACA;AACA,6DADA;AAEA,UAFA;AAGA,OALA,MAKA;AACA;AACA;AACA,KA9EA;AA+EA,WA/EA,mBA+EA,IA/EA,EA+EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,KA7FA;;AA+FA;AACA;AACA,kBAjGA,0BAiGA,KAjGA,EAiGA;AACA;AACA,KAnGA;AAoGA;AACA,gBArGA,wBAqGA,KArGA,EAqGA;AACA;AACA;AACA;AACA,KAzGA;AA0GA;AACA,SA3GA,mBA2GA;AACA;AACA;AACA;AACA;AACA,KAhHA;AAiHA;AACA,eAlHA,uBAkHA,GAlHA,EAkHA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KA1HA;AA2HA;AACA,cA5HA,wBA4HA;AACA;AACA;AACA;AACA;AACA,KAjIA;AAkIA,gBAlIA,wBAkIA,GAlIA,EAkIA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAhJA,EArEA;;AAuNA,QAvNA,oBAuNA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAPA,MAOA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAPA,MAOA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBADA;;AAGA;AACA,OA9BA;;AAgCA,GA3PA;AA4PA,UA5PA,sBA4PA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KALA;AAMA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,yBAFA;;AAIA,GA/QA,E;;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAA4sC,CAAgB,umCAAG,EAAC,C;;;;;;;;;;;ACAhuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"subPackages/animal/animalEdit/editFormItem.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subPackages/animal/animalEdit/editFormItem.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./editFormItem.vue?vue&type=template&id=16ee52e7&\"\nvar renderjs\nimport script from \"./editFormItem.vue?vue&type=script&lang=js&\"\nexport * from \"./editFormItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editFormItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subPackages/animal/animalEdit/editFormItem.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editFormItem.vue?vue&type=template&id=16ee52e7&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupDialog: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup-dialog/uni-popup-dialog\" */ \"@/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    !(_vm.editItem.type === \"camera\") &&\n    !(_vm.editItem.type === \"input\") &&\n    !(_vm.editItem.type === \"number\") &&\n    !(_vm.editItem.type === \"textarea\") &&\n    !(_vm.editItem.type === \"date\") &&\n    !(_vm.editItem.type === \"picker\") &&\n    _vm.editItem.type === \"tags\"\n      ? _vm.__map(_vm.tagsList, function(tag, index) {\n          var $orig = _vm.__get_orig(tag)\n\n          var g0 = _vm.checkedTags.includes(tag)\n          return {\n            $orig: $orig,\n            g0: g0\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editFormItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editFormItem.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view v-if=\"editItem.type === 'camera'\" type=\"camera\" class=\"page-main video-container\">\r\n\t\t<camera device-position=\"back\" flash=\"off\" @error=\"cameraError\" class=\"camera\"\r\n\t\t\t:placeholder=\"editItem.placeholder\" />\r\n\t\t<div class=\"outer2\">\r\n\t\t\t<span class=\"info3\">拍正脸获取身份号</span>\r\n\t\t</div>\r\n\t\t<button @click=\"cameraTakePhoto\" class=\"section1\">\r\n\t\t\t<span class=\"info2\">完成</span>\r\n\t\t</button>\r\n\t</view>\r\n\t<view v-else class=\"w-page animal-edit-item\">\r\n\t\t<view class=\"uni-list\">\r\n\t\t\t<view class=\"uni-list-cell\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">{{editItem.placeholder}}</view>\r\n\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t<input v-if=\"editItem.type === 'input'\" v-model=\"value\" class=\"uni-input-border\"\r\n\t\t\t\t\t\t:placeholder=\"editItem.placeholder\" />\r\n\t\t\t\t\t<input v-else-if=\"editItem.type === 'number'\" type=\"number\" v-model=\"value\" class=\"uni-input-border\"\r\n\t\t\t\t\t\t:placeholder=\"editItem.placeholder\" />\r\n\r\n\t\t\t\t\t<textarea v-else-if=\"editItem.type === 'textarea'\" v-model=\"value\" class=\"uni-input-border\"\r\n\t\t\t\t\t\tmaxlength=\"-1\" :placeholder=\"editItem.placeholder\"></textarea>\r\n\t\t\t\t\t<picker v-else-if=\"editItem.type === 'date'\" mode=\"date\" :value=\"value\" @change=\"bindDateChange\">\r\n\t\t\t\t\t\t<view class=\"uni-input\">{{ value }}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<picker v-else-if=\"editItem.type === 'picker'\" @change=\"bindPickerChange\" :value=\"pickerIndex\"\r\n\t\t\t\t\t\t:range=\"pickerArray\" :range-key=\"'label'\">\r\n\t\t\t\t\t\t<view class=\"uni-input\">{{\r\n              pickerArray[pickerIndex].label\r\n            }}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<view class=\"list-wrapper\" v-else-if=\"editItem.type === 'tags'\">\r\n\t\t\t\t\t\t<view v-for=\"(tag, index) in tagsList\" :key=\"index\" :class=\"{\r\n                'tags-button': true,\r\n                'tags-button__select': checkedTags.includes(tag),\r\n              }\" @click=\"toToggleTags(tag, index)\">\r\n\t\t\t\t\t\t\t{{ tag }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"list-wrapper\" v-else-if=\"editItem.type === 'list'\">\r\n\t\t\t\t\t\t<view class=\"list-item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t\t<text @click=\"editListItem(index)\">{{ item }}</text>\r\n\t\t\t\t\t\t\t<uni-icons class=\"delete bg-fail\" type=\"closeempty\" size=\"14\"\r\n\t\t\t\t\t\t\t\t@click=\"removeListItem(index)\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view type=\"primary\" class=\"list-button bg-primary\" @click=\"toAdd\">添加</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"popup\" type=\"dialog\">\r\n\t\t\t<uni-popup-dialog mode=\"input\" value=\"\" :title=\"editItem.placeholder\" message=\"成功消息\" :duration=\"2000\"\r\n\t\t\t\t:before-close=\"true\" @close=\"listCancel\" @confirm=\"listConfirm\"></uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst api = require(\"../../../utils/api/animal\");\n\tconst globalConst = require(\"../../../utils/service\");\n\t\n\timport {\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\tplaceholder: \"\",\r\n\t\t\t\tformData: {},\r\n\t\t\t\teditItem: {},\r\n\r\n\t\t\t\tlist: [],\r\n\t\t\t\tlistIndex: -1,\r\n\t\t\t\tlistValue: \"\",\r\n\r\n\t\t\t\tcheckedTags: [],\r\n\t\t\t\tpickerIndex: 0,\n\t\t\t\tuploadUrl: globalConst.baseUrl,\n\t\t\t\tidentityImageId:\"\",\n\t\t\t\tpetId:\"\",\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tanimalSex: (state) => state.tags.animalSex, // 动物性别 \r\n\t\t\t\tidentityCode: (state) => state.tags.identityCode, // 动物身份号\r\n\t\t\t\tanimalTypes: (state) => state.tags.animalTypes, // 动物类型\r\n\t\t\t\tsameOrigin: (state) => state.tags.sameOrigin, // 是否限制本地领养\r\n\t\t\t\tisAdopted: (state) => state.tags.isAdopted, // 是否被领养\r\n\r\n\t\t\t\thealthTag: (state) => state.tags.healthTag, // 健康\r\n\t\t\t\tshapeTag: (state) => state.tags.shapeTag, // 外形\r\n\t\t\t\tcharacterTag: (state) => state.tags.characterTag, // 性格\r\n\t\t\t\tsuccorTag: (state) => state.tags.succorTag, // 救助\r\n\t\t\t}),\r\n\t\t\tpickerArray() {\r\n\t\t\t\tif (this.editItem.key === \"isAdopted\") {\r\n\t\t\t\t\treturn this.isAdopted;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.editItem.key === \"sameOrigin\") {\r\n\t\t\t\t\treturn this.sameOrigin;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.editItem.key === \"sex\") {\r\n\t\t\t\t\treturn this.animalSex;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.editItem.key === \"identityCode\") {\r\n\t\t\t\t\treturn this.identityCode;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.editItem.key === \"type\") {\r\n\t\t\t\t\treturn this.animalTypes;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttagsList() {\r\n\t\t\t\tif (this.editItem.key === \"characterDesc\") {\r\n\t\t\t\t\treturn this.characterTag;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.editItem.key === \"healthStatus\") {\r\n\t\t\t\t\treturn this.healthTag;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.editItem.key === \"shapeDesc\") {\r\n\t\t\t\t\treturn this.shapeTag;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.editItem.key === \"succorStatus\") {\r\n\t\t\t\t\treturn this.succorTag;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 标签时是否单选\r\n\t\t\tisTagsSingle() {\r\n\t\t\t\tconst singleList = ['succorStatus']\r\n\t\t\t\treturn singleList.includes(this.editItem.key);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 日期变化\r\n\t\t\tbindDateChange(e) {\r\n\t\t\t\tthis.value = e.target.value;\r\n\t\t\t},\r\n\t\t\t// 照相机处理方法\r\n\t\t\tcameraTakePhoto() {\n\t\t\t\tconst ctx = uni.createCameraContext();\r\n\t\t\t\tctx.takePhoto({\r\n\t\t\t\t\tquality: 'high',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet tempImagePath = res.tempImagePath;\r\n\t\t\t\t\t\tconsole.log(\"takePhoto tempImagePath:\", tempImagePath);\r\n\t\t\t\t\t\t// 上传图片\n\t\t\t\t\t\tconst curUrl = this.uploadUrl+\"/animal/identify\";\r\n\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t// 重命名上传地址 /animal/identify\r\n\t\t\t\t\t\t\turl: curUrl,\r\n\t\t\t\t\t\t\tfilePath: tempImagePath,\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\"Access-Token\": this.$store.state.user.token,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tname: \"image\",\r\n\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\ttype: this.formData.type\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\t\t\tlet data = JSON.parse(uploadFileRes.data);\r\n\t\t\t\t\t\t\t\tconsole.log(\"success uploadFile data\", data);\n\t\t\t\t\t\t\t\t// 3012 该宠物已经建档\t 200 建档成功\r\n\t\t\t\t\t\t\t\tif (data.status === 200 ||  data.code===3012) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"res.result is 200 or 3012!\");\r\n\t\t\t\t\t\t\t\t\tif (data.result != null) {\r\n\t\t\t\t\t\t\t\t\t\tthis.value = data.result.identityCode;\n\t\t\t\t\t\t\t\t\t\tthis.identityImageId = data.result.identityImageId;\n\t\t\t\t\t\t\t\t\t\tthis.petId = data.result.petId;\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"res.result is success,data.status is 200,this.identityCode!\",data.result.identityCode);\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\t\tdelta:1,\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"uploadFileRes ok, but res.result is null!\");\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"获取身份号异常!\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: data.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (f) => {\r\n\t\t\t\t\t\tconsole.log(\"choose image fail!\", f);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}, //cameraTakePhoto\r\n\t\t\tcameraError(e) {\r\n\t\t\t\tconsole.log(e.detail);\r\n\t\t\t},\r\n\t\t\t// picker变化\r\n\t\t\tbindPickerChange(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tthis.pickerIndex = e.target.value;\r\n\t\t\t\tif (this.editItem.key === \"sameOrigin\") {\r\n\t\t\t\t\tconsole.log(this.sameOrigin.find((i, ind) => ind == this.pickerIndex));\r\n\t\t\t\t\tthis.value = this.sameOrigin.find(\r\n\t\t\t\t\t\t(i, ind) => ind == this.pickerIndex\r\n\t\t\t\t\t).id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.value = this.pickerIndex;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetDate(type) {\r\n\t\t\t\tconst date = new Date();\r\n\t\t\t\tlet year = date.getFullYear();\r\n\t\t\t\tlet month = date.getMonth() + 1;\r\n\t\t\t\tlet day = date.getDate();\r\n\r\n\t\t\t\tif (type === \"startDate\") {\r\n\t\t\t\t  year = year - 60;\r\n\t\t\t\t} else if (type === \"endDate\") {\r\n\t\t\t\t  year = year + 2;\r\n\t\t\t\t}\r\n\t\t\t\tmonth = month > 9 ? month : \"0\" + month;\r\n\t\t\t\tday = day > 9 ? day : \"0\" + day;\r\n\t\t\t\treturn `${year}-${month}-${day}`;\r\n\t\t\t},\r\n\r\n\t\t\t// 标签操作\r\n\t\t\t// 删除标签\r\n\t\t\tremoveListItem(index) {\r\n\t\t\t\tthis.list.splice(index, 1);\r\n\t\t\t},\r\n\t\t\t// 编辑标签\r\n\t\t\teditListItem(index) {\r\n\t\t\t\tthis.listValue = this.list[index];\r\n\t\t\t\tthis.listIndex = index;\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t},\r\n\t\t\t// 添加标签\r\n\t\t\ttoAdd() {\r\n\t\t\t\tthis.listValue = \"\";\r\n\t\t\t\tthis.listIndex = -1;\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t\tconsole.log(this.$refs);\r\n\t\t\t},\r\n\t\t\t// 添加\\编辑标签确认\r\n\t\t\tlistConfirm(val) {\r\n\t\t\t\tconsole.log(this.value, ...arguments);\r\n\t\t\t\tif (this.listIndex !== -1) {\r\n\t\t\t\t\tthis.list[this.listIndex] = val;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.list.push(val);\r\n\t\t\t\t}\r\n\t\t\t\tthis.listCancel();\r\n\t\t\t},\r\n\t\t\t// 取消\r\n\t\t\tlistCancel() {\r\n\t\t\t\t// TODO 做一些其他的事情，before-close 为true的情况下，手动执行 close 才会关闭对话框\r\n\t\t\t\tthis.$refs.popup.close();\r\n\t\t\t\tthis.listIndex = -1;\r\n\t\t\t\tthis.listValue = \"\";\r\n\t\t\t},\r\n\t\t\ttoToggleTags(tag) {\r\n\t\t\t\t// console.log(tag, index)\r\n\t\t\t\tconsole.log(this.checkedTags)\r\n\t\t\t\tif (this.isTagsSingle) {\r\n\t\t\t\t\t// 单选标签\r\n\t\t\t\t\tthis.checkedTags = [tag];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet index = this.checkedTags.findIndex(i => i === tag);\r\n\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\tthis.checkedTags.splice(index, 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.checkedTags.push(tag);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconsole.log(\"ss\", this.$store.state.tags);\r\n\t\t\t// 展示编辑信息\r\n\t\t\t// 如果正在编辑就不请求接口\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: \"animalData\",\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tthis.formData = res.data;\r\n\t\t\t\t\tthis.editItem = res.data.editItem;\r\n\t\t\t\t\tif (this.editItem.type === \"list\") {\r\n\t\t\t\t\t\tlet listVal = res.data[res.data.editItem.key];\r\n\t\t\t\t\t\tif (listVal != \"\") {\r\n\t\t\t\t\t\t\tthis.list = listVal.split(\"/\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.list = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (this.editItem.type === \"tags\") {\r\n\t\t\t\t\t\tlet listVal = res.data[res.data.editItem.key];\r\n\t\t\t\t\t\tif (listVal != \"\") {\r\n\t\t\t\t\t\t\tthis.checkedTags = listVal.split(\"/\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.checkedTags = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.value = res.data[res.data.editItem.key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.placeholder = res.data[res.data.editItem.placeholder];\r\n\r\n\t\t\t\t\tif (!this.formData.succorTime) {\r\n\t\t\t\t\t\tthis.formData.succorTime = this.getDate({\r\n\t\t\t\t\t\t\tformat: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tif (this.editItem.type === \"list\") {\r\n\t\t\t\tthis.formData[this.editItem.key] = this.list.join(\"/\");\r\n\t\t\t} else if (this.editItem.type === \"tags\") {\r\n\t\t\t\tthis.formData[this.editItem.key] = this.checkedTags.join(\"/\");\r\n\t\t\t} else if (this.editItem.key===\"identityCode\"&&this.value&&this.value.length>0)\n\t\t\t{\n\t\t\t\tthis.formData[\"identityCode\"]=this.value;\n\t\t\t\tthis.formData[\"identityImageId\"]=this.identityImageId;\n\t\t\t\tthis.formData[\"petId\"]=this.petId;\n\t\t\t}\n\t\t\telse {\r\n\t\t\t\tthis.formData[this.editItem.key] = this.value;\r\n\t\t\t}\n\t\t\tconsole.log(\"onUnLoad data store:\",this.formData);\r\n\t\t\tuni.setStorage({\r\n\t\t\t\tkey: \"animalData\",\r\n\t\t\t\tdata: this.formData,\r\n\t\t\t});\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t.page-main {\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.page-content {\r\n\t\tposition: fixed;\r\n\t}\r\n\r\n\t.video-container {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.camera {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.section1 {\r\n\t\tz-index: 71;\r\n\t\theight: 40px;\r\n\t\tborder-radius: 20px;\r\n\t\tbackground-color: rgba(100, 200, 179, 1);\r\n\t\twidth: 343px;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\ttop: 553px;\r\n\t}\r\n\r\n\t.info2 {\r\n\t\tz-index: 72;\r\n\t\twidth: 32px;\r\n\t\theight: 22px;\r\n\t\tdisplay: block;\r\n\t\toverflow-wrap: break-word;\r\n\t\tcolor: rgba(255, 255, 255, 1.0);\r\n\t\tfont-size: 16px;\r\n\t\tfont-family: PingFangSC-Semibold;\r\n\t\twhite-space: nowrap;\r\n\t\tline-height: 22px;\r\n\t\ttext-align: center;\r\n\t\tpadding: 9px 155.5px;\r\n\t}\r\n\r\n\t.outer2 {\r\n\t\tz-index: 64;\r\n\t\theight: 269px;\r\n\t\tbackground: url(../../../static/icons/camera@2x.png)-2px -2px no-repeat;\r\n\t\twidth: 266px;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: flex-start;\r\n\t\tposition: absolute;\r\n\t\tleft: 57px;\r\n\t\ttop: 171px;\r\n\t}\r\n\r\n\t.info3 {\r\n\t\tz-index: 69;\r\n\t\twidth: 199px;\r\n\t\theight: 33px;\r\n\t\tdisplay: block;\r\n\t\toverflow-wrap: break-word;\r\n\t\tcolor: rgba(255, 74, 74, 1);\r\n\t\tfont-size: 24px;\r\n\t\tfont-family: PingFangSC-Regular;\r\n\t\twhite-space: nowrap;\r\n\t\tline-height: 33px;\r\n\t\ttext-align: center;\r\n\t\tpadding: 118px 33.5px;\r\n\t}\r\n\r\n\t.w-page {\r\n\t\tpadding: 16rpx 32rpx;\r\n\t\tbackground-color: #fff;\r\n\t\theight: auto;\r\n\t}\r\n\r\n\t.animal-edit-item input {\r\n\t\tborder-radius: 8rpx;\r\n\t\tcolor: #9ba1aa;\r\n\t\tborder: 1px solid #dbdbdc;\r\n\t\theight: 72rpx;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 72rpx;\r\n\t\tpadding: 0 15rpx;\r\n\t}\r\n\r\n\t.animal-edit-item textarea {\r\n\t\tborder-radius: 8rpx;\r\n\t\tcolor: #9ba1aa;\r\n\t\tborder: 1px solid #dbdbdc;\r\n\t\tfont-size: 14px;\r\n\t\tpadding: 14rpx 15rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.animal-edit-item .list-wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.animal-edit-item .list-item {\r\n\t\tposition: relative;\r\n\t\tfont-size: 14px;\r\n\t\tpadding: 6rpx 16rpx;\r\n\t\tborder: 1rpx solid #dbdbdc;\r\n\t\tborder-radius: 8px;\r\n\t\tmargin: 2rpx 5rpx;\r\n\t}\r\n\r\n\t.animal-edit-item .list-item .delete {\r\n\t\tposition: absolute;\r\n\t\ttop: -8px;\r\n\t\tright: 10px;\r\n\t\theight: 0;\r\n\t\twidth: 0;\r\n\t}\r\n\r\n\t.animal-edit-item .list-item .uni-icons {\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: #ff4a4a88;\r\n\t\tcolor: #fff !important;\r\n\t}\r\n\r\n\t.animal-edit-item .list-button {\r\n\t\tfont-size: 14px;\r\n\t\tpadding: 6rpx 16rpx;\r\n\t\tborder-radius: 8px;\r\n\t\tmargin: 2rpx 5rpx;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.animal-edit-item .uni-list::before,\r\n\t.animal-edit-item .uni-list::after {\r\n\t\tcontent: none;\r\n\t}\r\n\r\n\t.animal-edit-item .uni-list-cell {\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t.animal-edit-item .uni-list-cell-left {\r\n\t\tpadding-top: 10rpx;\r\n\t\tpadding-bottom: 10rpx;\r\n\t}\r\n\r\n\t.animal-edit-item .uni-list-cell-left,\r\n\t.animal-edit-item .uni-input {\r\n\t\tfont-size: 14px;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editFormItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editFormItem.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1661212296825\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}